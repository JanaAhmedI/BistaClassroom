{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block content %}
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a href="{% url 'teachers:quiz_change_list' %}">My Quizzes</a>
      </li>
      <li class="breadcrumb-item">
        <a href="{% url 'teachers:quiz_change' quiz.pk %}">{{ quiz.name }}</a>
      </li>
      <li class="breadcrumb-item active" aria-current="page">Add a new question</li>
    </ol>
  </nav>

  <h2 class="mb-3">Add a new question</h2>
  <p class="lead">
    Add first the text of the question. In the next step you will be able to add the possible answers.
  </p>

  {% if form.errors %}
    <div class="alert alert-danger">
      <ul class="mb-0">
        {% for field in form %}
          {% for error in field.errors %}
            <li><strong>{{ field.label }}:</strong> {{ error }}</li>
          {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
          <li>{{ error }}</li>
        {% endfor %}
      </ul>
    </div>
  {% endif %}

  <form method="post" enctype="multipart/form-data" novalidate>
    {% csrf_token %}

    {{ form.text|as_crispy_field }}
    {{ form.order|as_crispy_field }}

    <button type="submit" class="btn btn-success">Save</button>
    <a href="{% url 'teachers:quiz_change' quiz.pk %}" class="btn btn-outline-secondary">Nevermind</a>
  </form>
{% endblock %}
